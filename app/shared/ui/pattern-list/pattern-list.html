<div class="bb-pattern-list">
	<uib-accordion ng-repeat="tuneName in utils.getKeys(state.tunes)">
		<uib-accordion-group>
			<uib-accordion-heading>
				{{tuneName}}
				<span class="caret"></span>
			</uib-accordion-heading>
			<bb-pattern-placeholder bb-state="state" bb-tune-name="tuneName" bb-pattern-name="patternName" ng-repeat="patternName in utils.getKeys(state.tunes[tuneName].patterns)" bb-draggable="true">
				{{custom = isCustomPattern(tuneName, patternName); ''}}
				<bb-pattern-placeholder-item><a href="javascript:" title="Copy{{custom ? '/Move/Rename' : ''}} break" ng-click="copyPattern(tuneName, patternName)"><span class="glyphicon glyphicon-duplicate"></span></a></bb-pattern-placeholder-item>
				<bb-pattern-placeholder-item ng-if="custom"><a href="javascript:" title="Remove" ng-click="removePattern(tuneName, patternName)"><span class="glyphicon glyphicon-trash"></span></a></bb-pattern-placeholder-item>
				<bb-transclude bb-scope="{ tuneName: tuneName, patternName: patternName }"></bb-transclude>
			</bb-pattern-placeholder>
			<span class="tune-actions">
				<a href="javascript:" ng-click="createPattern(tuneName)" title="New break"><span class="glyphicon glyphicon-plus-sign"></span></a>
			</span>
		</uib-accordion-group>
	</uib-accordion>
	<a href="javascript:" ng-click="createTune()">New tune</a>
</div>